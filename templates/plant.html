<!--plant page with jinja-->
{%extends "layout.html"%}
{%block content%}
    <div class="grid-container">
        <h1 class="grid-item1">{{ plant[1] }}</h1>
        <img src="{{ plant[5] }}" alt="image of {{ plant[1] }}" class="grid-item2">
        <div class="grid-item3">
            <p>Status: {{plant[2]}}</p>
            <!--this is a sentence which has data in it for each specific plant,
                making the data more readable for the user.
                the data is coming from the Planting_instruction table-->
            <p>Planting instructions: Plant in  
                {{ planting_instruction[1] }} on a 
                {{ planting_instruction[2] }} terrain at a depth which is 
                {{ planting_instruction[3] }} and at a distance of 
                {{ planting_instruction[4] }}m from other plants.
            </p>
            <p>Family: {{ plant[3] }}</p>
            <p>Scientific name: {{ plant[4] }}</p>
            <p>Plant regions: 
                <!--loop through so that all the regions are displayed,
                    not just the first one-->
                {% for region in plant_region %}
                    {{ region[0] }}
                    {% if not loop.last %}, 
                    {% endif %}
                {% endfor %}
            </p>
        </div>
        <!--if a user is logged in, provide an Add to Watchlist button-->
        {% if username %}
            <form action="/add_to_watchlist/{{ plant[0] }}" method="POST">
                <button type="submit" class="grid-item1">Add to Watchlist</button>
            </form>
        <!--if a user is not logged in, provide a login link with
            instructions for adding to a watchlist-->
        {% else %}
            <p class="grid-item1"><a href="/login">Log in</a> to add this plant to your watchlist.</p>
        {% endif %}
        <!--if the user adds the plant to their watchlist,
            display a confirming message-->
        {% for message in get_flashed_messages() %}
            <div class="alert">{{ message }}</div>
        {% endfor%}
    </div>
{%endblock%}
