<!--all plants page with jinja-->
{%extends "layout.html"%}
{%block content%}
  <h1 class="page-title">All plants</h1>
  
  <!--status filter-->
  <form method="GET" action="/all_plant" class="filter">
    <label for="status">Filter by status:</label>
    <select name="status" class="filter-options">
      <!--list of statuses to filter by-->
      <option value="">All</option>
      <option value="Not-Threatened" {% if status_filter == 'Not-Threatened' %}selected{% endif %}>Not-Threatened</option>
      <option value="Threatened" {% if status_filter == 'Threatened' %}selected{% endif %}>Threatened</option>
      <option value="At-Risk" {% if status_filter == 'At-Risk' %}selected{% endif %}>At-Risk</option>
    </select>
    <!--submit the status selected to filter plants-->
    <button type="submit" class="button">Filter</button>
  </form>

  <!--image gallery-->
  <div class="gallery-container">
    <!--if there is a plant with the status filtered by, then display it's details-->
    {% if plant %}
    <!--loop through, so that all the plants with that status display-->
      {% for plant in plant %}
        <a href='plant/{{ plant[0] }}' class="gallery-link">
          <div class="gallery-item">
            <!--get the image source from the database-->
            <img src="{{ plant[5] }}" alt="Image of {{ plant[1] }}">
            <p>{{ plant[1] }}</p>
            <p class="description">{{ plant[2] }}</p>
          </div>
        <!--end the link here so that the whole plant card is clickable-->
        </a>
      {% endfor %}
    {% else %}
      <p class="no-filter-result">No plants found with the selected filter</p>
    {% endif %}
  </div>
{% endblock %}
